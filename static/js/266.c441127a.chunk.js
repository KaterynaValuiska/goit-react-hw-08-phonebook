"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[266],{266:function(e,a,t){t.r(a),t.d(a,{default:function(){return b}});var n=t(439),r=t(434),s=t(428),l=t(791),c=t(184);function i(){var e=(0,r.v9)((function(e){return e.contacts.items})),a=(0,r.I0)();return(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"Create a contact"}),(0,c.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=t.target.elements.name.value;e.find((function(e){return e.name.toLowerCase()===n.toLowerCase()}))?alert("".concat(n," is already in contacts.")):(a((0,s.uK)({name:n,number:t.target.elements.number.value})),t.target.reset())},className:"NewContact",children:[(0,c.jsx)("div",{className:"mb-3",children:(0,c.jsxs)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:["Name"," ",(0,c.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,"aria-describedby":"emailHelp",className:"form-control"})]})}),(0,c.jsx)("div",{className:"mb-3",children:(0,c.jsxs)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:["Number"," ",(0,c.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,"aria-describedby":"emailHelp",className:"form-control"})]})}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add contact"})]})]})}var o=t(164),m=document.querySelector("#modalRoot"),d=function(e){var a=e.onClose,t=e.children;(0,l.useEffect)((function(){var e=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[a]);return(0,o.createPortal)((0,c.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&a()},children:(0,c.jsx)("div",{className:"Modal",children:t})}),m)};function u(e){var a=e.id,t=e.name,n=e.number,l=e.onClose,i=(0,r.I0)();return(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target;i((0,s.Tk)({contactId:a,name:t.elements.name.value,number:t.elements.number.value})),l()},className:"ItemContact",children:[(0,c.jsx)("div",{className:"mb-3",children:(0,c.jsxs)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:["Name"," ",(0,c.jsx)("input",{type:"text",name:"name",defaultValue:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,"aria-describedby":"emailHelp",className:"form-control"})]})}),(0,c.jsx)("div",{className:"mb-3",children:(0,c.jsxs)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:["Number"," ",(0,c.jsx)("input",{type:"tel",name:"number",defaultValue:n,pattern:"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,"aria-describedby":"emailHelp",className:"form-control"})]})}),(0,c.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Change contact"})]})}var b=function(){var e=(0,l.useState)(!1),a=(0,n.Z)(e,2),t=a[0],o=a[1],m=(0,l.useState)(""),b=(0,n.Z)(m,2),p=b[0],h=b[1],f=(0,l.useState)(""),x=(0,n.Z)(f,2),v=x[0],j=x[1],y=(0,l.useState)(""),N=(0,n.Z)(y,2),C=N[0],w=N[1],g=(0,r.v9)((function(e){return e.contacts})),A=g.items,k=g.isLoading,Z=(0,r.I0)();(0,l.useEffect)((function(){Z((0,s.yF)())}),[Z]);var I=function(){o(!t)};return(0,c.jsxs)("div",{className:"Contact",children:[(0,c.jsx)(i,{}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{children:"Your contacts"}),(0,c.jsx)("div",{children:k&&"Request in progress..."}),Array.isArray(A)&&A.length<=0&&(0,c.jsx)("p",{children:" There are no contacts. You can add your contacts. "}),(0,c.jsx)("ul",{className:"ContactList",children:A.map((function(e){var a=e.name,t=e.number,n=e.id;return(0,c.jsxs)("li",{children:[a,": ",t,"  ",(0,c.jsx)("button",{type:"button",className:"btn btn-primary BtnDelete","aria-label":"Close",onClick:function(){return function(e){Z((0,s.GK)(e))}(n)},children:"delete"}),(0,c.jsx)("button",{type:"button",className:"btn btn-primary BtnDelete","aria-label":"Close",onClick:function(){return function(e){var a=e.id,t=e.name,n=e.number;I(),h(t),j(n),w(a)}({id:n,name:a,number:t})},children:"update"})]},n)}))})]}),t&&(0,c.jsx)(d,{onClose:I,children:(0,c.jsx)(u,{id:C,name:p,number:v,onClose:I})})]})}}}]);
//# sourceMappingURL=266.c441127a.chunk.js.map